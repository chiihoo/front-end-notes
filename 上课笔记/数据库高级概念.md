# 数据库高级概念

索引(index)
  CREATE INDEX users-name-index ON user(name)
  CREATE INDEX users-name-index ON user(name,password)
  索引会占空间，也需要在增删改的时候花额外的时间维护
  增删改 性能稍微下降
  查询效率由N提升为logN

视图(view)
    create view view_name as select name,password from users;

    select * from view_name

    select posts.rowid as postId, users.rowid as userId
      ON owner=userId WHERE postId=?

    create view PostInfo as select posts.rowid as postId, users.rowid as userId ON owner=userId

    select * from PostInfo where postId=?


    create view post as select rowid as id, * from posts;

数据库设计(database design)(如何设计表)

  数据库设计 与 范式
    每个事物独立一张表（用户，提问，评论，标签）
    多对多的关系往往会再独立一张表（问题的标签）
    当修改某信息时，一般只需要修改数据库中一的个单元格。

    范式是用评价/评估数据库设计的冗余程度的。
    第一-第七范式
    BC范式

  范式(paradriam)
    一级范式
    BC范式
    七级范式

  越高的范式，意味着表的设计冗余越少

  传递依赖性
    不应该在【学生表】里保存【院系id】和【院系主任姓名】。

事务(trans action, 交易)
  一手交钱一手交货

  begin transation
  update xxxxx
  end transation

  需要满足ACID特性
    原子性
    持久性
    一致性
    隔离性

键，主键(key, primary key)
外键
完整性

create table t (
  id number primary key,
  name string
)

inser into t values (1, 'foo')
inser into t values (1, 'foo')


存储过程
  SQL语言的函数。


锁 lock
  表级锁
  行级锁


数据库 系统设计(system design)(jd)
  数据文件格式
    链式
    索引，平衡数（红黑树）
  SQL 语句的解析
    Perpare
    优化
  网络数据库
    连接池。     线程池
    主从数据库
    分布式数据库

[{user,password},{user,password},{user,password},{user,password},]

select * from users where user=xx and password=yyy

users.filter(it => it.name==xx && it.password==yyy)



MySQL 有哪些引擎
InnerDB
日志
脱敏







ORM Object Relational Model




LeanCloud